<!DOCTYPE html>
<html lang="th">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="../assets/css/styles.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@12/swiper-bundle.min.css">
  <script src="../assets/js/main.js"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/@alpinejs/persist@3.x.x/dist/cdn.min.js"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
  <title>TRUE ONLINE - MY PLAN</title>
  <style>
    /* Highlight add-on boxes when checked/selected */
    .addon-box {
      border: 1px solid transparent;
      transition: border-color 0.15s ease, background-color 0.15s ease;
    }

    .addon-box:has(input:checked) {
      border: 1px solid var(--tds-sys-light-primary, #E00000) !important;
      background: var(--tds-ref-primary-primary95, #FFEDEA) !important;
    }

    /* Plan-required error border on Step 1 card */
    .plan-error-border {
      border: 2px solid var(--tds-sys-light-primary, #E00000) !important;
      transition: border-color 0.3s ease;
    }

    .summary-accordion-icon svg {
      transition: transform 0.2s ease;
      transform-origin: center;
    }

    /* ── Compact mode for very narrow phones (<445px) ── */
    @media (max-width: 444px) {

      /* Shrink radio-button containers */
      #contract_period_group label>div.w-12 {
        width: 28px;
        height: 28px;
      }

      #add_on_group label>div.w-12 {
        width: 28px;
        height: 28px;
      }

      /* Shrink speed / add-on icons */
      #contract_period_group label>div.w-10,
      #contract_period_group label img.w-10,
      #add_on_group label img.w-10 {
        width: 30px;
        height: 30px;
      }

      /* Tighten row vertical padding */
      #contract_period_group label {
        padding-top: 8px;
        padding-bottom: 8px;
      }

      #add_on_group label {
        padding-top: 8px;
        padding-bottom: 8px;
      }

      /* Reduce card horizontal padding */
      .contract-box {
        padding-left: 12px;
        padding-right: 12px;
      }

      /* Match Plan Selection compact style on CCTV + TV Pack cards */
      #add_on_group .addon-box {
        padding-left: 12px;
        padding-right: 12px;
      }

      /* Tighten stacked icon rows (flex-col gap-3 → 4px) */
      #add_on_group .flex-col.gap-3 {
        gap: 4px;
      }

      /* Tighten icon-row horizontal gaps (gap-3 → 6px) */
      /* #add_on_group .flex.items-center.gap-3 {
        gap: 6px;
      } */

      /* Smaller addon icons in CCTV / TV Pack stacked rows */
      #add_on_group .flex-col.gap-3 img.w-10 {
        width: 30px;
        height: 30px;
      }

      /* Reduce font size in CCTV/TV multi-line labels */
      /* #add_on_group .flex-col.gap-3 p.text-\[16px\] {
        font-size: 14px;
      } */

      /* Compact price display */
      .plan-price-value {
        font-size: 20px;
      }

      .plan-price-unit {
        font-size: 9px;
      }

      /* Tighten price block inner padding */
      .plan-price-value+.plan-price-unit,
      .plan-price-value {
        padding-left: 0;
        padding-right: 0;
      }

      #contract_period_group .inline-flex,
      #add_on_group .inline-flex {
        padding-left: 4px;
        padding-right: 4px;
        gap: 4px;
      }
    }
  </style>
</head>

<body class="bg-[#fafafa]" x-data>

  <!-- Hero Banner -->
  <section id="heroBanner" class="bg-gray-300 w-full">
    <picture>
      <source media="(max-width: 702px)" srcset="../assets/images/myplan-hero-banner-mobile.png">
      <img src="../assets/images/myplan-hero-banner.png" alt="TRUE ONLINE - MY PLAN" class="w-full h-auto object-cover">
    </picture>
  </section>

  <!-- Logo + Tagline -->
  <div class="bg-[#fafafa]" :style="$store.plan.hasSelection ? 'padding-bottom: 160px' : ''">
    <div class="max-w-[1128px] mx-auto px-4 pt-10 pb-4 text-center">
      <img src="../assets/images/myplan-logo.png" alt="TRUE ONLINE - MY PLAN"
        class="w-[210px] sm:w-[360px] h-auto object-contain mx-auto mb-4">
      <h2 class="text-[24px] sm:text-[40px] font-bold text-flowkit-red leading-tight">เลือกที่ใช่ จัดได้ตามใจคุณ</h2>
      <h3 class="text-[16px] sm:text-[32px] font-medium text-charcoal-grey leading-tight">กับเน็ตบ้านไฟเบอร์ที่ดีที่สุด
      </h3>
    </div>

    <!-- Form Body -->
    <section id="myplanFormBody" class="py-10">
      <div class="max-w-[1128px] mx-auto px-4">
        <form action="">

          <!-- Step 1: Plan Selection -->
          <div id="contract_period_group" class="mb-10">
            <div class="flex items-center gap-3 sm:gap-3 mb-6">
              <!-- Desktop: numbered circle -->
              <div
                class="step-header-circle bg-gradient-ci text-white w-10 h-10 rounded-full flex items-center justify-center text-2xl font-bold shrink-0">
                1</div>
              <!-- Mobile: icon -->
              <img src="../assets/images/ic-phone-step1.png" alt=""
                class="step-header-icon hidden w-8 h-8 shrink-0 object-contain">
              <h3 class="text-[20px] sm:text-2xl font-bold gradient-text">เลือกความเร็ว และระยะสัญญา</h3>
            </div>

            <div
              class="addon-box contract-box bg-white rounded-[16px] shadow-[0px_2px_16px_2px_rgba(0,0,0,0.08)] w-full px-6 py-2"
              :class="{ 'plan-error-border': $store.plan.planError }">

              <!-- Plan 1: 1000/500 Mbps / 12mo / 699 -->
              <label class="flex items-center gap-2 sm:gap-4 py-4 border-b border-[rgba(48,60,70,0.18)] cursor-pointer">
                <div class="w-12 h-12 flex items-center justify-center shrink-0">
                  <input type="radio" name="planOption" value="plan_1" class="accent-tol-red w-5 h-5"
                    x-model="$store.plan.selectedPlanId">
                </div>
                <div class="w-10 h-10 shrink-0 flex items-center justify-center">
                  <!-- speed icon placeholder -->
                  <img src="../assets/images/shortcut-speedtest.png" alt="1000/500 Mbps"
                    class="w-10 h-10 object-contain">
                </div>
                <div class="flex-1 min-w-0">
                  <div class="text-[16px] font-bold text-charcoal-grey">1000/500 Mbps</div>
                  <div class="text-[12px] font-bold text-charcoal-grey">สัญญา 12 เดือน</div>
                </div>
                <div class="shrink-0">
                  <div class="inline-flex items-center gap-2 px-4 py-2">
                    <span class="plan-price-value text-[24px] font-bold leading-none text-tol-red">
                      699
                    </span>
                    <div
                      class="plan-price-unit flex flex-col leading-tight text-left text-tol-red text-[11px] font-semibold">
                      <span>บาท</span>
                      <span>/เดือน</span>
                    </div>
                  </div>
                </div>
              </label>

              <!-- Plan 2: 1000/500 Mbps / 24mo / 599 (คุ้มกว่า) -->
              <label class="flex items-center gap-2 sm:gap-4 py-4 border-b border-[rgba(48,60,70,0.18)] cursor-pointer">
                <div class="w-12 h-12 flex items-center justify-center shrink-0">
                  <input type="radio" name="planOption" value="plan_2" class="accent-tol-red w-5 h-5"
                    x-model="$store.plan.selectedPlanId">
                </div>
                <div class="w-10 h-10 shrink-0 flex items-center justify-center">
                  <img src="../assets/images/shortcut-speedtest.png" alt="1000/500 Mbps"
                    class="w-10 h-10 object-contain">
                </div>
                <div class="flex-1 min-w-0">
                  <span class="text-[16px] font-bold text-charcoal-grey">1000/500 Mbps</span>
                  <div class="flex items-center gap-1">
                    <div class="text-[12px] font-bold text-charcoal-grey">สัญญา 24 เดือน</div>
                    <span class="bg-tol-red text-white text-[10px] font-bold px-2 py-0.5 rounded-full">คุ้มกว่า</span>
                  </div>
                </div>
                <div class="shrink-0">
                  <div class="inline-flex items-center gap-2 px-4 py-2">
                    <span class="plan-price-value text-[24px] font-bold leading-none text-tol-red">
                      599
                    </span>
                    <div
                      class="plan-price-unit flex flex-col leading-tight text-left text-tol-red text-[11px] font-semibold">
                      <span>บาท</span>
                      <span>/เดือน</span>
                    </div>
                  </div>
                </div>
              </label>

              <!-- Plan 3: 500/500 Mbps / 12mo / 599 -->
              <label class="flex items-center gap-2 sm:gap-4 py-4 border-b border-[rgba(48,60,70,0.18)] cursor-pointer">
                <div class="w-12 h-12 flex items-center justify-center shrink-0">
                  <input type="radio" name="planOption" value="plan_3" class="accent-tol-red w-5 h-5"
                    x-model="$store.plan.selectedPlanId">
                </div>
                <div class="w-10 h-10 shrink-0 flex items-center justify-center">
                  <img src="../assets/images/shortcut-speedtest.png" alt="1000/500 Mbps"
                    class="w-10 h-10 object-contain">
                </div>
                <div class="flex-1 min-w-0">
                  <div class="text-[16px] font-bold text-charcoal-grey">500/500 Mbps</div>
                  <div class="text-[12px] font-bold text-charcoal-grey">สัญญา 12 เดือน</div>
                </div>
                <div class="shrink-0">
                  <div class="inline-flex items-center gap-2 px-4 py-2">
                    <span class="plan-price-value text-[24px] font-bold leading-none text-tol-red">
                      599
                    </span>
                    <div
                      class="plan-price-unit flex flex-col leading-tight text-left text-tol-red text-[11px] font-semibold">
                      <span>บาท</span>
                      <span>/เดือน</span>
                    </div>
                  </div>
                </div>
              </label>

              <!-- Plan 4: 500/500 Mbps / 24mo / 499 (คุ้มกว่า) -->
              <label class="flex items-center gap-2 sm:gap-4 py-4 cursor-pointer">
                <div class="w-12 h-12 flex items-center justify-center shrink-0">
                  <input type="radio" name="planOption" value="plan_4" class="accent-tol-red w-5 h-5"
                    x-model="$store.plan.selectedPlanId">
                </div>
                <div class="w-10 h-10 shrink-0 flex items-center justify-center">
                  <img src="../assets/images/shortcut-speedtest.png" alt="1000/500 Mbps"
                    class="w-10 h-10 object-contain">
                </div>
                <div class="flex-1 min-w-0">
                  <div class="text-[16px] font-bold text-charcoal-grey">500/500 Mbps</div>
                  <div class="flex items-center gap-1">
                    <div class="text-[12px] font-bold text-charcoal-grey">สัญญา 24 เดือน</div>
                    <span class="bg-tol-red text-white text-[10px] font-bold px-2 py-0.5 rounded-full">คุ้มกว่า</span>
                  </div>
                </div>
                <div class="shrink-0">
                  <div class="inline-flex items-center gap-2 px-4 py-2">
                    <span class="plan-price-value text-[24px] font-bold leading-none text-tol-red">
                      499
                    </span>
                    <div
                      class="plan-price-unit flex flex-col leading-tight text-left text-tol-red text-[11px] font-semibold">
                      <span>บาท</span>
                      <span>/เดือน</span>
                    </div>
                  </div>
                </div>
              </label>

            </div>
            <p class="text-[12px] text-[rgba(48,60,70,0.8)] mt-3 px-1"><span class="hidden sm:inline">เงื่อนไข :
                ค่าแรกเข้า 890 บาท (จากปกติ 2,000 บาท)</span><span class="sm:hidden">เงื่อนไข : สัญญา 12 หรือ 24 เดือน |
                ค่าแรกเข้า 890 บาท (ปกติ 2,000 บาท)</span>
            </p>
            <p class="text-[12px] text-tol-red font-bold mt-1 px-1" x-show="$store.plan.planError" x-cloak x-transition>
              *กรุณาเลือกความเร็วและระยะสัญญาก่อนค่ะ
            </p>
          </div>

          <!-- Step 2: Add-ons -->
          <div id="add_on_group" class="mb-10">
            <div class="flex items-center gap-3 sm:gap-3 mb-6">
              <!-- Desktop: numbered circle -->
              <div
                class="step-header-circle bg-gradient-ci text-white w-10 h-10 rounded-full flex items-center justify-center text-2xl font-bold shrink-0">
                2</div>
              <!-- Mobile: icon -->
              <img src="../assets/images/ic-phone-step2.png" alt=""
                class="step-header-icon hidden w-8 h-8 shrink-0 object-contain">
              <div class="flex items-baseline gap-2">
                <h3 class="text-[20px] sm:text-2xl font-bold gradient-text">เลือกบริการเสริม</h3>
                <span class="text-[14px] sm:text-[14px] text-[rgba(48,60,70,0.7)]">(ไม่บังคับ)</span>
              </div>
            </div>

            <div class="flex flex-col gap-6">

              <!-- Sub-section: Mobile SIM (checkbox) -->
              <div>
                <p class="text-[14px] font-medium text-charcoal-grey mb-2">
                  <span class="text-tol-red font-bold">สมัครเพิ่ม</span> ซิมเน็ตเต็มสปีด
                </p>
                <label
                  class="addon-box flex items-center gap-2 sm:gap-4 bg-white h-[80px] rounded-[16px] shadow-[0px_2px_16px_2px_rgba(0,0,0,0.08)] w-full px-6 py-2 cursor-pointer">
                  <div class="w-12 h-12 flex items-center justify-center shrink-0">
                    <input type="checkbox" name="addon_mobile" class="accent-tol-red w-5 h-5"
                      x-model="$store.plan.addOns.mobilePack"
                      @change="$store.plan.requirePlan(() => { $store.plan.addOns.mobilePack = false })">
                  </div>
                  <img src="../assets/images/sim-true.png" alt="sim-true" class="w-10 h-10 object-contain">
                  <div class="flex-1">
                    <span class="text-[16px] font-bold text-charcoal-grey">ซิมเน็ตเต็มสปีด 20GB</span>
                  </div>
                  <div class="shrink-0">
                    <div class="inline-flex items-center gap-2 px-4 py-2">
                      <span class="plan-price-value text-[24px] font-bold leading-none text-tol-red">
                        120
                      </span>
                      <div
                        class="plan-price-unit flex flex-col leading-tight text-left text-tol-red text-[11px] font-semibold">
                        <span>บาท</span>
                        <span>/เดือน</span>
                      </div>
                    </div>
                  </div>
                </label>
                <p class="text-[12px] text-[rgba(48,60,70,0.8)] mt-3 px-1">เงื่อนไข : สัญญา 12 หรือ 24 เดือน​</p>
              </div>


              <!-- Sub-section: Mesh WiFi (checkbox) -->
              <div>
                <p class="text-[14px] font-medium text-charcoal-grey mb-2">
                  <span class="text-tol-red font-bold">สมัครเพิ่ม</span> อุปกรณ์กระจายสัญญาณอินเทอร์เน็ต (MESH WiFi)
                </p>
                <label
                  class="addon-box flex items-center gap-2 sm:gap-4 bg-white h-[80px] rounded-[16px] shadow-[0px_2px_16px_2px_rgba(0,0,0,0.08)] w-full px-6 py-2 cursor-pointer">
                  <div class="w-12 h-12 flex items-center justify-center shrink-0">
                    <input type="checkbox" name="addon_mesh" class="accent-tol-red w-5 h-5"
                      x-model="$store.plan.addOns.meshWifi"
                      @change="$store.plan.requirePlan(() => { $store.plan.addOns.meshWifi = false })">
                  </div>
                  <img src="../assets/images/mesh.png" alt="mesh" class="w-10 h-10 object-contain">
                  <div class="flex-1">
                    <span class="text-[16px] font-bold text-charcoal-grey">MESH WiFi 1 จุด</span>
                  </div>
                  <div class="shrink-0">
                    <div class="inline-flex items-center gap-2 px-4 py-2">
                      <span class="plan-price-value text-[24px] font-bold leading-none text-tol-red">
                        100
                      </span>
                      <div
                        class="plan-price-unit flex flex-col leading-tight text-left text-tol-red text-[11px] font-semibold">
                        <span>บาท</span>
                        <span>/เดือน</span>
                      </div>
                    </div>
                  </div>
                </label>
                <p class="text-[12px] text-[rgba(48,60,70,0.8)] mt-3 px-1">เงื่อนไข : สัญญา 12 หรือ 24 เดือน​</p>
              </div>

              <!-- Sub-section: CCTV (radio, 2 options) -->
              <div>
                <p class="text-[14px] font-medium text-charcoal-grey mb-2">
                  <span class="text-tol-red font-bold">สมัครเพิ่ม</span> กล้องวงจรปิด
                  พร้อม Cloud ดูย้อนหลัง 7 วัน <span class="text-[rgba(48,60,70,0.6)]">(เลือกได้ อย่างใดอย่างหนึ่ง)
                  </span>
                </p>
                <div
                  class="addon-box bg-white rounded-[16px] shadow-[0px_2px_16px_2px_rgba(0,0,0,0.08)] w-full px-6 py-2">
                  <label
                    class="flex items-center gap-2 sm:gap-4 border-b border-[rgba(48,60,70,0.18)] py-4 cursor-pointer">
                    <div class="w-12 h-12 flex items-center justify-center shrink-0">
                      <input type="radio" name="addon_cctv" value="cctv_premium" class="accent-tol-red w-5 h-5"
                        x-model="$store.plan.addOns.cctv"
                        @change="$store.plan.requirePlan(() => { $store.plan.addOns.cctv = null })">
                    </div>
                    <div class="flex-1 flex flex-col gap-3">
                      <div class="flex items-center gap-3">
                        <img src="../assets/images/cctv.png" alt="cctv" class="w-10 h-10 object-contain">
                        <div>
                          <p class="text-[16px] font-bold text-charcoal-grey">CCTV 1 ตัว</p>
                        </div>
                      </div>
                      <div class="flex items-center gap-3">
                        <img src="../assets/images/insurance.png" alt="insurance" class="w-10 h-10 object-contain">
                        <div>
                          <p class="text-[16px] font-bold text-charcoal-grey">ประกันอัคคีภัย</p>
                          <p class="text-[12px] text-[rgba(48,60,70,0.7)]">(คุ้มครองสูงสุด 450,000 บ.)</p>
                        </div>
                      </div>
                    </div>
                    <div class="shrink-0">
                      <div class="inline-flex items-center gap-2 px-4 py-2">
                        <span class="plan-price-value text-[24px] font-bold leading-none text-tol-red">
                          179
                        </span>
                        <div
                          class="plan-price-unit flex flex-col leading-tight text-left text-tol-red text-[11px] font-semibold">
                          <span>บาท</span>
                          <span>/เดือน</span>
                        </div>
                      </div>
                    </div>
                  </label>
                  <label class="flex items-center gap-2 sm:gap-4 py-4 cursor-pointer">
                    <div class="w-12 h-12 flex items-center justify-center shrink-0">
                      <input type="radio" name="addon_cctv" value="cctv_basic" class="accent-tol-red w-5 h-5"
                        x-model="$store.plan.addOns.cctv"
                        @change="$store.plan.requirePlan(() => { $store.plan.addOns.cctv = null })">
                    </div>
                    <img src="../assets/images/cctv.png" alt="cctv" class="w-10 h-10 object-contain">
                    <div class="flex-1">
                      <span class="text-[16px] font-bold text-charcoal-grey">CCTV 1 ตัว</span>
                    </div>
                    <div class="shrink-0">
                      <div class="inline-flex items-center gap-2 px-4 py-2">
                        <span class="plan-price-value text-[24px] font-bold leading-none text-tol-red">
                          99
                        </span>
                        <div
                          class="plan-price-unit flex flex-col leading-tight text-left text-tol-red text-[11px] font-semibold">
                          <span>บาท</span>
                          <span>/เดือน</span>
                        </div>
                      </div>
                    </div>
                  </label>
                </div>
                <p class="text-[12px] text-[rgba(48,60,70,0.8)] mt-3 px-1">เงื่อนไข : สัญญา 24 เดือน เท่านั้น
                  โดยกล้องตกเป็นกรรมสิทธิ์ของลูกค้าเมื่อใช้งานครบสัญญา หากยกเลิกก่อนสัญญาต้องชำระค่าปรับ 1,290 บาท​</p>
              </div>

              <!-- Sub-section: TV Pack / รับชมรายการต่างประเทศ (radio, 4 options) -->
              <div>
                <p class="text-[14px] font-medium text-charcoal-grey mb-2">
                  <span class="text-tol-red font-bold">สมัครเพิ่ม</span> แพ็กเกจ
                  ความบันเทิง <br /><span class="text-[rgba(48,60,70,0.6)]">(เลือกได้อย่างใด
                    อย่างหนึ่ง)</span>
                </p>

                <div class="flex flex-col gap-2">
                  <div
                    class="addon-box bg-white rounded-[16px] shadow-[0px_2px_16px_2px_rgba(0,0,0,0.08)] w-full px-6 py-2">
                    <label
                      class="flex items-center justify-between gap-2 sm:gap-4 border-b border-[rgba(48,60,70,0.18)] py-4 cursor-pointer">
                      <div class="w-12 h-12 flex items-center justify-center shrink-0">
                        <input type="radio" name="addon_tv" value="asian_combo_plus" class="accent-tol-red w-5 h-5"
                          x-model="$store.plan.addOns.tvPack"
                          @change="$store.plan.requirePlan(() => { $store.plan.addOns.tvPack = null })">
                      </div>
                      <div class="flex-1 flex flex-col gap-3">
                        <div class="flex items-center gap-2 sm:gap-4">
                          <img src="../assets/images/true-id.png" alt="true-id" class="w-10 h-10 object-contain">
                          <img src="../assets/images/viu.png" alt="viu" class="w-10 h-10 object-contain">
                          <img src="../assets/images/iqiyi.png" alt="iqiyi" class="w-10 h-10 object-contain">
                          <div>
                            <p class="text-[16px] font-bold text-charcoal-grey">Asian Combo</p>
                          </div>
                        </div>
                        <div class="flex items-center gap-3">
                          <img src="../assets/images/trueid-box.png" alt="trueid-box" class="w-10 h-10 object-contain">
                          <div>
                            <p class="text-[16px] font-bold text-charcoal-grey">พร้อมกล่อง TrueID TV</p>
                          </div>
                        </div>
                      </div>
                      <div class="shrink-0 text-right">
                        <div class="inline-flex items-center gap-2 px-4 py-2">
                          <span class="plan-price-value text-[24px] font-bold leading-none text-tol-red">
                            200
                          </span>
                          <div
                            class="plan-price-unit flex flex-col leading-tight text-left text-tol-red text-[11px] font-semibold">
                            <span>บาท</span>
                            <span>/เดือน</span>
                          </div>
                        </div>
                        <p
                          class="text-[10px] sm:text-[10px] text-charcoal-grey-disabled line-through text-right pr-1 sm:px-4">
                          ปกติ 259 บาท</p>
                      </div>
                    </label>
                    <label
                      class="flex items-center justify-between gap-2 sm:gap-4 border-b border-[rgba(48,60,70,0.18)] py-4 cursor-pointer">
                      <div class="w-12 h-12 flex items-center justify-center shrink-0">
                        <input type="radio" name="addon_tv" value="asian_combo" class="accent-tol-red w-5 h-5"
                          x-model="$store.plan.addOns.tvPack"
                          @change="$store.plan.requirePlan(() => { $store.plan.addOns.tvPack = null })">
                      </div>
                      <img src="../assets/images/true-id.png" alt="true-id" class="w-10 h-10 object-contain">
                      <img src="../assets/images/viu.png" alt="viu" class="w-10 h-10 object-contain">
                      <img src="../assets/images/iqiyi.png" alt="iqiyi" class="w-10 h-10 object-contain">
                      <div class="flex-1">
                        <span class="text-[16px] font-bold text-charcoal-grey">Asian Combo</span>
                      </div>
                      <div class="shrink-0 text-right">
                        <div class="inline-flex items-center gap-2 px-4 py-2">
                          <span class="plan-price-value text-[24px] font-bold leading-none text-tol-red">
                            139
                          </span>
                          <div
                            class="plan-price-unit flex flex-col leading-tight text-left text-tol-red text-[11px] font-semibold">
                            <span>บาท</span>
                            <span>/เดือน</span>
                          </div>
                        </div>
                        <p
                          class="text-[10px] sm:text-[10px] text-charcoal-grey-disabled line-through text-right pr-1 sm:px-4">
                          ปกติ 159 บาท</p>
                      </div>
                    </label>
                    <label
                      class="flex items-center justify-between gap-2 sm:gap-4 border-b border-[rgba(48,60,70,0.18)] py-4 cursor-pointer">
                      <div class="w-12 h-12 flex items-center justify-center shrink-0">
                        <input type="radio" name="addon_tv" value="now_ent_plus" class="accent-tol-red w-5 h-5"
                          x-model="$store.plan.addOns.tvPack"
                          @change="$store.plan.requirePlan(() => { $store.plan.addOns.tvPack = null })">
                      </div>
                      <div class="flex-1 flex flex-col gap-3">
                        <div class="flex items-center gap-3">
                          <img src="../assets/images/true-now-ent.png" alt="true-now-ent"
                            class="w-10 h-10 object-contain">
                          <div>
                            <p class="text-[16px] font-bold text-charcoal-grey">TrueVisions NOW ENT</p>
                          </div>
                        </div>
                        <div class="flex items-center gap-3">
                          <img src="../assets/images/trueid-box.png" alt="trueid-box" class="w-10 h-10 object-contain">
                          <div>
                            <p class="text-[16px] font-bold text-charcoal-grey">พร้อมกล่อง TrueID TV</p>
                          </div>
                        </div>
                      </div>
                      <div class="shrink-0 text-right">
                        <div class="inline-flex items-center gap-2 px-4 py-2">
                          <span class="plan-price-value text-[24px] font-bold leading-none text-tol-red">
                            180
                          </span>
                          <div
                            class="plan-price-unit flex flex-col leading-tight text-left text-tol-red text-[11px] font-semibold">
                            <span>บาท</span>
                            <span>/เดือน</span>
                          </div>
                        </div>
                        <p
                          class="text-[10px] sm:text-[10px] text-charcoal-grey-disabled line-through text-right pr-1 sm:px-4">
                          ปกติ 199 บาท</p>
                      </div>
                    </label>
                    <label class="flex items-center justify-between gap-2 sm:gap-4 py-4 cursor-pointer">
                      <div class="w-12 h-12 flex items-center justify-center shrink-0">
                        <input type="radio" name="addon_tv" value="now_ent" class="accent-tol-red w-5 h-5"
                          x-model="$store.plan.addOns.tvPack"
                          @change="$store.plan.requirePlan(() => { $store.plan.addOns.tvPack = null })">
                      </div>
                      <img src="../assets/images/true-now-ent.png" alt="true-now-ent" class="w-10 h-10 object-contain">
                      <div class="flex-1">
                        <span class="text-[16px] font-bold text-charcoal-grey">TrueVisions NOW ENT</span>
                      </div>
                      <div class="shrink-0 text-right">
                        <div class="inline-flex items-center gap-2 px-4 py-2">
                          <span class="plan-price-value text-[24px] font-bold leading-none text-tol-red">
                            99
                          </span>
                          <div
                            class="plan-price-unit flex flex-col leading-tight text-left text-tol-red text-[11px] font-semibold">
                            <span>บาท</span>
                            <span>/เดือน</span>
                          </div>
                        </div>
                      </div>
                    </label>
                  </div>
                </div>
                <p class="text-[12px] text-[rgba(48,60,70,0.8)] mt-3 px-1">เงื่อนไข :แพ็กเกจ Asian Combo และ NOW ENT
                  รับชมได้สูงสุด 24 เดือน​</p>
              </div>

            </div><!-- /flex flex-col gap-6 -->
          </div><!-- /Step 2 -->

        </form>
      </div>
    </section>

    <!-- Promo Banner: NOW ENT -->
    <section id="promoBanner" class="max-w-[1128px] mx-auto px-4 mb-10">
      <div class="flex items-center justify-between gap-6">
        <a href="https://www.true.th/promotion/true-online/now-ent" title="NOW ENT" rel="noopener noreferrer"
          class="w-full h-full">
          <img src="../assets/images/entertainment-banner.png" alt="NOW ENT" class="w-full h-full object-contain">
        </a>
      </div>
    </section>

    <!-- Special Packages (gradient background) -->
    <section id="specialPackages" class="py-6"
      style="background: linear-gradient(137.97deg, #F9F9FC 42.36%, #FFD8E7 63.92%, #E7DEFF 78.35%, #BEE9FF 100%);">
      <div class="max-w-[1128px] mx-auto px-4">
        <h2 class="text-[24px] font-bold text-charcoal-grey mb-6">แพ็กเกจพิเศษสำหรับลูกค้าซิมทรูรายเดือน</h2>
      </div>
      <div class="special-packages-swiper swiper relative pb-10">
        <div class="swiper-wrapper">
          <!-- Card 1 -->
          <div class="swiper-slide">
            <a href="#" class="rec-pkg-card relative block">
              <div class="flex flex-col px-4 pb-4 absolute bottom-0 left-0 right-0">
                <div class="flex items-center justify-between">
                  <div class="inline-flex items-center gap-2">
                    <span class="text-[36px] font-bold leading-none text-tol-red">749</span>
                    <div class="flex flex-col leading-tight text-left text-tol-red text-[13px] font-semibold">
                      <span>บาท</span>
                      <span>/เดือน</span>
                    </div>
                  </div>
                  <span class="bg-tol-red text-white font-bold text-[13px] px-5 py-2 rounded-full">ซื้อเลย</span>
                </div>
                <p class="text-[11px] text-charcoal-grey mt-1">ค่าบริการปกติ 857 บาท/เดือน</p>
              </div>
              <img src="../assets/images/recommended-package-1.png" alt="Package 1"
                class="w-full h-auto object-contain">
            </a>
          </div>
          <!-- Card 2 -->
          <div class="swiper-slide">
            <a href="#" class="rec-pkg-card relative block">
              <div class="flex flex-col px-4 pb-4 absolute bottom-0 left-0 right-0">
                <div class="flex items-center justify-between">
                  <div class="inline-flex items-center gap-2">
                    <span class="text-[36px] font-bold leading-none text-tol-red">649</span>
                    <div class="flex flex-col leading-tight text-left text-tol-red text-[13px] font-semibold">
                      <span>บาท</span>
                      <span>/เดือน</span>
                    </div>
                  </div>
                  <span class="bg-tol-red text-white font-bold text-[13px] px-5 py-2 rounded-full">ซื้อเลย</span>
                </div>
                <p class="text-[11px] text-charcoal-grey mt-1">ค่าบริการปกติ 737 บาท/เดือน</p>
              </div>
              <img src="../assets/images/recommended-package-2.png" alt="Package 2"
                class="w-full h-auto object-contain">
            </a>
          </div>
          <!-- Card 3 -->
          <div class="swiper-slide">
            <a href="#" class="rec-pkg-card relative block">
              <div class="flex flex-col px-4 pb-4 absolute bottom-0 left-0 right-0">
                <div class="flex items-center justify-between">
                  <div class="inline-flex items-center gap-2">
                    <span class="text-[36px] font-bold leading-none text-tol-red">549</span>
                    <div class="flex flex-col leading-tight text-left text-tol-red text-[13px] font-semibold">
                      <span>บาท</span>
                      <span>/เดือน</span>
                    </div>
                  </div>
                  <span class="bg-tol-red text-white font-bold text-[13px] px-5 py-2 rounded-full">ซื้อเลย</span>
                </div>
                <p class="text-[11px] text-charcoal-grey mt-1">ค่าบริการปกติ 598 บาท/เดือน</p>
              </div>
              <img src="../assets/images/recommended-package-3.png" alt="Package 3"
                class="w-full h-auto object-contain">
            </a>
          </div>
        </div>
        <!-- Dot Pagination -->
        <div class="special-packages-pagination mt-4 flex items-center justify-center gap-1.5 pb-2"></div>
      </div>
    </section>

    <!-- Recommended Packages -->
    <section id="recommendedPackages" class="py-6">
      <div class="max-w-[1128px] mx-auto px-4">
        <h2 class="text-[24px] font-bold text-charcoal-grey mb-6">แพ็กเกจแนะนำ</h2>
      </div>
      <div class="recommended-packages-swiper swiper relative pb-10">
        <div class="swiper-wrapper">
          <!-- Card 1 -->
          <div class="swiper-slide">
            <a href="#" class="rec-pkg-card relative block">
              <div class="flex items-center justify-between px-4 pb-4 absolute bottom-3 left-0 right-0">
                <div class="inline-flex items-center gap-2">
                  <span class="text-[36px] font-bold leading-none text-tol-red">598</span>
                  <div class="flex flex-col leading-tight text-left text-tol-red text-[13px] font-semibold">
                    <span>บาท</span>
                    <span>/เดือน</span>
                  </div>
                </div>
                <span class="bg-tol-red text-white font-bold text-[13px] px-5 py-2 rounded-full">ซื้อเลย</span>
              </div>
              <img src="../assets/images/recommended-package-1.png" alt="Package 1"
                class="w-full h-auto object-contain">
            </a>
          </div>
          <!-- Card 2 -->
          <div class="swiper-slide">
            <a href="#" class="rec-pkg-card relative block">
              <div class="flex items-center justify-between px-4 pb-4 absolute bottom-3 left-0 right-0">
                <div class="inline-flex items-center gap-2">
                  <span class="text-[36px] font-bold leading-none text-tol-red">599</span>
                  <div class="flex flex-col leading-tight text-left text-tol-red text-[13px] font-semibold">
                    <span>บาท</span>
                    <span>/เดือน</span>
                  </div>
                </div>
                <span class="bg-tol-red text-white font-bold text-[13px] px-5 py-2 rounded-full">ซื้อเลย</span>
              </div>
              <img src="../assets/images/recommended-package-2.png" alt="Package 2"
                class="w-full h-auto object-contain">
            </a>
          </div>
          <!-- Card 3 -->
          <div class="swiper-slide">
            <a href="#" class="rec-pkg-card relative block">
              <div class="flex items-center justify-between px-4 pb-4 absolute bottom-3 left-0 right-0">
                <div class="inline-flex items-center gap-2">
                  <span class="text-[36px] font-bold leading-none text-tol-red">598</span>
                  <div class="flex flex-col leading-tight text-left text-tol-red text-[13px] font-semibold">
                    <span>บาท</span>
                    <span>/เดือน</span>
                  </div>
                </div>
                <span class="bg-tol-red text-white font-bold text-[13px] px-5 py-2 rounded-full">ซื้อเลย</span>
              </div>
              <img src="../assets/images/recommended-package-3.png" alt="Package 3"
                class="w-full h-auto object-contain">
            </a>
          </div>
          <!-- Card 4 -->
          <div class="swiper-slide">
            <a href="#" class="rec-pkg-card relative block">
              <div class="flex items-center justify-between px-4 pb-4 absolute bottom-3 left-0 right-0">
                <div class="inline-flex items-center gap-2">
                  <span class="text-[36px] font-bold leading-none text-tol-red">638</span>
                  <div class="flex flex-col leading-tight text-left text-tol-red text-[13px] font-semibold">
                    <span>บาท</span>
                    <span>/เดือน</span>
                  </div>
                </div>
                <span class="bg-tol-red text-white font-bold text-[13px] px-5 py-2 rounded-full">ซื้อเลย</span>
              </div>
              <img src="../assets/images/recommended-package-4.png" alt="Package 4"
                class="w-full h-auto object-contain">
            </a>
          </div>
          <!-- Card 5 -->
          <div class="swiper-slide">
            <a href="#" class="rec-pkg-card relative block">
              <div class="flex items-center justify-between px-4 pb-4 absolute bottom-3 left-0 right-0">
                <div class="inline-flex items-center gap-2">
                  <span class="text-[36px] font-bold leading-none text-tol-red">619</span>
                  <div class="flex flex-col leading-tight text-left text-tol-red text-[13px] font-semibold">
                    <span>บาท</span>
                    <span>/เดือน</span>
                  </div>
                </div>
                <span class="bg-tol-red text-white font-bold text-[13px] px-5 py-2 rounded-full">ซื้อเลย</span>
              </div>
              <img src="../assets/images/recommended-package-5.png" alt="Package 5"
                class="w-full h-auto object-contain">
            </a>
          </div>
        </div>
        <!-- Dot Pagination -->
        <div class="recommended-packages-pagination mt-4 flex items-center justify-center gap-1.5 pb-2"></div>
      </div>
    </section>

    <!-- Summary Footer -->
    <section id="summaryFooter" class="max-w-[1128px] mx-auto px-4 my-10">
      <div class="faq-card bg-white rounded-[16px] shadow-[0px_2px_16px_2px_rgba(0,0,0,0.08)] w-full px-6 py-2">
        <div class="summary-accordion">

          <!-- Accordion item 1: Main plan details -->
          <div class="summary-accordion-item">
            <button type="button"
              class="summary-accordion-trigger w-full flex items-center justify-between py-3 text-left"
              aria-expanded="false">
              <div class="flex items-center gap-2">
                <span class="text-[16px] font-semibold text-charcoal-grey">รวมคำถามและข้อสงสัย</span>
              </div>
              <span class="summary-accordion-icon text-[18px] text-charcoal-grey">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                  <path
                    d="M12.3755 16.6722C11.991 16.6722 11.64 16.5135 11.3226 16.1962L4.87732 9.60437C4.75525 9.4762 4.66064 9.33887 4.59351 9.19238C4.53247 9.03979 4.50195 8.87805 4.50195 8.70715C4.50195 8.46301 4.55994 8.24329 4.6759 8.04797C4.79187 7.84656 4.94751 7.68787 5.14282 7.5719C5.33813 7.45593 5.55786 7.39795 5.802 7.39795C6.15601 7.39795 6.47034 7.53528 6.745 7.80994L12.76 13.9897H12.0184L18.006 7.80994C18.2806 7.53528 18.598 7.39795 18.9581 7.39795C19.1962 7.39795 19.4128 7.45593 19.6082 7.5719C19.8035 7.68787 19.9591 7.84656 20.0751 8.04797C20.191 8.24329 20.249 8.46301 20.249 8.70715C20.249 9.05505 20.127 9.35413 19.8828 9.60437L13.4283 16.1962C13.2697 16.361 13.1049 16.483 12.934 16.5624C12.7631 16.6356 12.5769 16.6722 12.3755 16.6722Z"
                    fill="#E00000" />
                </svg>
              </span>
            </button>
            <div class="summary-accordion-panel pb-3 text-[12px] text-[rgba(48,60,70,0.85)] hidden">
              <ul class="list-disc pl-4 space-y-3 mb-4">
                <li><strong>Q : ค่าบริการรวม VAT แล้วหรือไม่</strong><br>A : ยังไม่รวม VAT</li>
                <li><strong>Q : สามารถสมัครเพิ่มซิมมือถือได้กี่ซิม</strong><br>A : 1 ซิม</li>
                <li><strong>Q : สามารถสมัครเพิ่ม MESH WiFi ได้กี่จุด</strong><br>A : สมัครวันแรก สามารถสมัครเพิ่มสูงสุด
                  4 จุด โดยมีค่าบริการเพิ่ม 100 บาท/เดือน/จุด</li>
                <li><strong>Q : สามารถสมัครเพิ่ม CCTV ได้กี่จุด</strong><br>A : สมัครวันแรก สามารถสมัครเพิ่มสูงสุด 1 จุด
                  โดยเสียค่าบริการเพิ่มเริ่ม 99 บาท/เดือน/จุด และหลังติดตั้งบริการสามารถสมัครเพิ่มได้สูงสุดอีก 4 จุด
                  ดังนั้น รวมเป็น 5 จุด และเนื่องจาก CCTV มีสัญญา 24 เดือน หากยกเลิกบริการ CCTV ก่อนครบสัญญา
                  ต้องชำระค่าบริการ 1,290 บาท/จุดให้กับบริษัทฯ</li>
                <li><strong>Q : สามารถสมัครเพิ่ม CCTV 1 จุด รายเดือน 99 บาท และ CCTV 1 จุดพร้อมประกันอัคคีภัย รายเดือน
                    179 บาท พร้อมกันได้หรือไม่</strong><br>A : สำหรับการเพิ่มความปลอดภัย
                  สามารถเลือกสมัครได้อย่างใดอย่างหนึ่งเท่านั้น</li>
                <li><strong>Q : ประกันอัคคีภัยคุ้มครองกี่เดือน และสามารถลงทะเบียนรับสิทธิ์ได้อย่างไร</strong><br>A :
                  ประกันอัคคีภัยคุ้มครอง 24 เดือน โดยคลิกเพื่อรับสิทธิ์หลังติดตั้งบริการทรูออนไลน์สำเร็จ
                  และผู้รับสิทธิ์ควรศึกษารายละเอียดเงื่อนไขความคุ้มครอง
                  ก่อนตัดสินใจทำประกันภัยทุกครั้ง <a href="#" class="text-tol-blue underline">คลิก</a></li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </section>

  </div><!-- /bg-[#fafafa] -->

  <!-- ══════════════════════════════════════════ -->
  <!-- Sticky Summary Bar                        -->
  <!-- ══════════════════════════════════════════ -->
  <div class="sticky-summary" x-show="$store.plan.hasSelection" x-transition:enter="transition ease-out duration-300"
    x-transition:enter-start="translate-y-full opacity-0" x-transition:enter-end="translate-y-0 opacity-100"
    x-transition:leave="transition ease-in duration-200" x-transition:leave-start="translate-y-0 opacity-100"
    x-transition:leave-end="translate-y-full opacity-0" x-cloak>

    <div class="sticky-summary-card">

      <!-- Chevron Toggle (top-right) -->
      <button type="button" class="sticky-summary-toggle" @click="$store.plan.toggleDetail()"
        :aria-expanded="$store.plan.detailOpen">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
          class="transition-transform duration-200" :class="$store.plan.detailOpen ? '' : 'rotate-180'">
          <path
            d="M12.3755 16.6722C11.991 16.6722 11.64 16.5135 11.3226 16.1962L4.87732 9.60437C4.75525 9.4762 4.66064 9.33887 4.59351 9.19238C4.53247 9.03979 4.50195 8.87805 4.50195 8.70715C4.50195 8.46301 4.55994 8.24329 4.6759 8.04797C4.79187 7.84656 4.94751 7.68787 5.14282 7.5719C5.33813 7.45593 5.55786 7.39795 5.802 7.39795C6.15601 7.39795 6.47034 7.53528 6.745 7.80994L12.76 13.9897H12.0184L18.006 7.80994C18.2806 7.53528 18.598 7.39795 18.9581 7.39795C19.1962 7.39795 19.4128 7.45593 19.6082 7.5719C19.8035 7.68787 19.9591 7.84656 20.0751 8.04797C20.191 8.24329 20.249 8.46301 20.249 8.70715C20.249 9.05505 20.127 9.35413 19.8828 9.60437L13.4283 16.1962C13.2697 16.361 13.1049 16.483 12.934 16.5624C12.7631 16.6356 12.5769 16.6722 12.3755 16.6722Z"
            fill="#E00000" />
        </svg>
      </button>


      <!-- Header (always visible) -->
      <p class="text-[16px] font-medium text-[#1a1c1e] pb-2 px-4">รายการแพ็กเกจ</p>

      <!-- Collapsible Detail List -->
      <div class="sticky-summary-details" x-ref="summaryDetails" :class="$store.plan.detailOpen ? 'is-open' : ''">
        <div class="px-4">
          <!-- Plan line item -->
          <template x-if="$store.plan.selectedPlan">
            <div class="flex justify-between items-end pt-4 gap-4">
              <div>
                <p class="text-[14px] font-medium text-[#1a1c1e]">
                  ความเร็ว <span x-text="$store.plan.selectedPlan.speed"></span>
                </p>
                <p class="text-[14px] text-charcoal-grey">
                  สัญญา <span x-text="$store.plan.selectedPlan.contract"></span> เดือน
                </p>
              </div>
              <p class="text-[14px] font-medium text-right whitespace-nowrap">
                <span class="text-tol-red" x-text="$store.plan.selectedPlan.price"></span>
                <span class="text-[#1a1c1e]"> บาท</span>
              </p>
            </div>
          </template>

          <!-- Add-on line items -->
          <template x-for="addon in $store.plan.activeAddons" :key="addon.label">
            <div class="flex justify-between items-end pt-4 gap-4">
              <p class="text-[14px] font-medium text-[#1a1c1e]" x-text="addon.label"></p>
              <p class="text-[14px] font-medium text-right whitespace-nowrap">
                <span class="text-tol-red" x-text="addon.price"></span>
                <span class="text-[#1a1c1e]"> บาท</span>
              </p>
            </div>
          </template>
        </div>
      </div>

      <!-- Footer: Total + CTA -->
      <div class="flex items-center justify-between px-4 pt-2 pb-4">
        <div>
          <div class="flex items-center gap-10">
            <span class="text-[16px] font-medium text-charcoal-grey">ราคารวม</span>
            <div class="flex items-center gap-1 text-tol-red">
              <span class="text-[18px] font-bold leading-[28px] tracking-[0.018px]" x-text="$store.plan.total"></span>
              <div class="text-[8px] font-medium tracking-[0.04px] leading-none">
                <span class="block">บาท</span>
                <span class="block">/เดือน</span>
              </div>
            </div>
          </div>
          <p class="text-[10px] text-[rgba(48,60,70,0.8)]">(ไม่รวมภาษีมูลค่าเพิ่ม)</p>
        </div>
        <a href="../myplan-summary/" @click="$store.plan.persistToSession()"
          class="bg-tol-red text-white text-[14px] font-medium tracking-[0.014px] px-6 py-2.5 rounded-full hover:opacity-90 transition-opacity whitespace-nowrap">
          ถัดไป
        </a>
      </div>

    </div><!-- /sticky-summary-card -->
  </div><!-- /sticky-summary -->

  <script src="https://cdn.jsdelivr.net/npm/swiper@12/swiper-bundle.min.js"></script>
  <script src="../assets/js/recommended-packages-swiper.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', function () {
      var items = document.querySelectorAll('.summary-accordion-item');

      if (!items.length) return;

      items.forEach(function (item) {
        var trigger = item.querySelector('.summary-accordion-trigger');
        var panel = item.querySelector('.summary-accordion-panel');
        var iconWrapper = item.querySelector('.summary-accordion-icon');
        var iconSvg = iconWrapper ? iconWrapper.querySelector('svg') : null;

        if (!trigger || !panel) return;

        trigger.addEventListener('click', function () {
          var isOpen = !panel.classList.contains('hidden');

          // Close all panels
          items.forEach(function (otherItem) {
            var otherPanel = otherItem.querySelector('.summary-accordion-panel');
            var otherTrigger = otherItem.querySelector('.summary-accordion-trigger');
            var otherIconWrapper = otherItem.querySelector('.summary-accordion-icon');
            var otherIconSvg = otherIconWrapper ? otherIconWrapper.querySelector('svg') : null;

            if (!otherPanel || !otherTrigger) return;

            otherPanel.classList.add('hidden');
            otherTrigger.setAttribute('aria-expanded', 'false');
            if (otherIconSvg) {
              otherIconSvg.style.transform = 'rotate(0deg)';
            }
          });

          // Toggle current panel
          if (!isOpen) {
            panel.classList.remove('hidden');
            trigger.setAttribute('aria-expanded', 'true');
            if (iconSvg) {
              iconSvg.style.transform = 'rotate(180deg)';
            }
          }
        });
      });
    });
  </script>
</body>

</html>